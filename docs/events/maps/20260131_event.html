<div id="map" style="height: 500px; width: 100%;"></div>

<script>
  function createMap() {
	  const map = L.map('map').setView([42.680962, 23.336184], 15);
	  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
		  maxZoom: 21,
	  }).addTo(map);

	  // lng-lat coordinates from Google My Maps
	  const locations = [
		  [23.3316, 42.6862],
		  [23.33153, 42.68616],
		  [23.33148, 42.68621],
		  [23.33139, 42.68609],
		  [23.33134, 42.68614],
		  [23.33125, 42.68603],
		  [23.33124, 42.68599],
		  [23.33123, 42.68596],
		  [23.33121, 42.68592],
		  [23.33118, 42.68589],
		  [23.33114, 42.68585],
		  [23.3311, 42.68582],
		  [23.33105, 42.6858],
		  [23.33098, 42.68577],
		  [23.3305, 42.6856],
		  [23.33048, 42.68551],
		  [23.3306, 42.68496],
		  [23.33078, 42.68425],
		  [23.33084, 42.68406],
		  [23.33086, 42.68399],
		  [23.3309, 42.68381],
		  [23.33091, 42.68376],
		  [23.33099, 42.68341],
		  [23.33111, 42.68288],
		  [23.33113, 42.68276],
		  [23.33116, 42.68266],
		  [23.33129, 42.68226],
		  [23.33148, 42.68151],
		  [23.33157, 42.681],
		  [23.33158, 42.68094],
		  [23.33169, 42.6804],
		  [23.33189, 42.67954],
		  [23.33207, 42.67883],
		  [23.3322, 42.6786],
		  [23.3325, 42.67819],
		  [23.33292, 42.67763],
		  [23.33343, 42.67689],
		  [23.33346, 42.67683],
		  [23.33346, 42.67679],
		  [23.33344, 42.67675],
		  [23.33342, 42.67671],
		  [23.33348, 42.67669],
		  [23.33351, 42.67667],
		  [23.33354, 42.67665],
		  [23.33359, 42.67662],
		  [23.33381, 42.67632],
		  [23.33409, 42.67638],
		  [23.33542, 42.67646],
		  [23.33548, 42.67646],
		  [23.33598, 42.67649],
		  [23.33604, 42.6765],
		  [23.33614, 42.6765],
		  [23.33759, 42.67659],
		  [23.33761, 42.67667],
		  [23.33763, 42.6767],
		  [23.33766, 42.67675],
		  [23.33774, 42.67684],
		  [23.33796, 42.67694],
		  [23.3387, 42.67729],
		  [23.33899, 42.6774],
		  [23.33987, 42.67736],
		  [23.33988, 42.67736],
		  [23.34011, 42.67735],
		  [23.34012, 42.67735],
		  [23.34036, 42.67734],
		  [23.3406, 42.67733],
		  [23.34085, 42.67732],
		  [23.34133, 42.6773],
		  [23.34136, 42.67732],
		  [23.34149, 42.67742],
		  [23.34148, 42.67744],
		  [23.34148, 42.67745],
		  [23.34147, 42.67746],
		  [23.34147, 42.67747],
		  [23.34147, 42.67749],
		  [23.34147, 42.6775],
		  [23.34147, 42.67754],
		  [23.34148, 42.67758],
		  [23.3415, 42.67762],
		  [23.34152, 42.67765],
		  [23.34153, 42.67766],
		  [23.34155, 42.67768],
		  [23.34157, 42.67769],
		  [23.34159, 42.67771],
		  [23.34162, 42.67773],
		  [23.34166, 42.67774],
		  [23.3416, 42.67776],
		  [23.34149, 42.67779],
		  [23.34151, 42.67782],
		  [23.3415, 42.67784],
		  [23.34147, 42.67785],
		  [23.34145, 42.67786],
		  [23.34145, 42.67787],
		  [23.34144, 42.67787],
		  [23.34144, 42.67788],
		  [23.34144, 42.67789],
		  [23.34145, 42.6779],
		  [23.3415, 42.67788],
		  [23.34155, 42.67788],
		  [23.34162, 42.67788],
		  [23.34166, 42.67788],
		  [23.34167, 42.67788],
		  [23.34168, 42.67788],
		  [23.3417, 42.67789],
		  [23.34171, 42.6779],
		  [23.34172, 42.67791],
		  [23.34174, 42.67796],
		  [23.34176, 42.67804],
		  [23.34179, 42.6782],
		  [23.3418, 42.6784],
		  [23.34184, 42.67894],
		  [23.34185, 42.67912],
		  [23.34186, 42.6793],
		  [23.34189, 42.67966],
		  [23.34194, 42.67971],
		  [23.34192, 42.67978],
		  [23.3419, 42.67986],
		  [23.34188, 42.67991],
		  [23.34185, 42.67998],
		  [23.34181, 42.68003],
		  [23.34165, 42.68023],
		  [23.34117, 42.6808],
		  [23.34103, 42.68102],
		  [23.34081, 42.68144],
		  [23.34074, 42.68164],
		  [23.34068, 42.68179],
		  [23.34067, 42.68183],
		  [23.34065, 42.68185],
		  [23.34055, 42.68196],
		  [23.34049, 42.68201],
		  [23.33933, 42.6828],
		  [23.33835, 42.68345],
		  [23.33781, 42.6838],
		  [23.33732, 42.68412],
		  [23.33633, 42.6841],
		  [23.3362, 42.68408],
		  [23.3362, 42.6841],
		  [23.3362, 42.68412],
		  [23.33619, 42.68414],
		  [23.33618, 42.68416],
		  [23.33617, 42.68418],
		  [23.33615, 42.6842],
		  [23.33611, 42.68424],
		  [23.33607, 42.68426],
		  [23.33605, 42.68427],
		  [23.33603, 42.68428],
		  [23.336, 42.68428],
		  [23.33598, 42.68429],
		  [23.33595, 42.68429],
		  [23.33592, 42.68429],
		  [23.3359, 42.68429],
		  [23.33587, 42.68429],
		  [23.33585, 42.68428],
		  [23.33582, 42.68428],
		  [23.3358, 42.68427],
		  [23.33577, 42.68426],
		  [23.33573, 42.68423],
		  [23.33562, 42.68431],
		  [23.33547, 42.68442],
		  [23.33377, 42.68411],
		  [23.33332, 42.68446],
		  [23.33325, 42.68453],
		  [23.33358, 42.68479],
		  [23.33363, 42.68483],
		  [23.3334, 42.685],
		  [23.33335, 42.68504],
		  [23.33333, 42.68506],
		  [23.33332, 42.68508],
		  [23.33329, 42.68512],
		  [23.33324, 42.68519],
		  [23.3332, 42.68527],
		  [23.33318, 42.6853],
		  [23.33317, 42.68533],
		  [23.33317, 42.68537],
		  [23.33316, 42.6854],
		  [23.33317, 42.68544],
		  [23.33317, 42.68549],
		  [23.3332, 42.68565],
		  [23.33305, 42.68567],
		  [23.3329, 42.68569],
		  [23.33271, 42.68572],
		  [23.33213, 42.68585],
		  [23.33205, 42.68587],
		  [23.33192, 42.68592],
		  [23.3318, 42.68596],
		  [23.33178, 42.68598],
		  [23.3316, 42.6862]
	  ];

	  // Convert to Leaflet format
	  const LatLngLocations = locations.map(([lng, lat]) => [lat, lng]);
	  L.polyline(LatLngLocations, {
		  color: 'blue',
		  weight: 3,
	  }).addTo(map);

	  const start = LatLngLocations.at(0);

	  L.circleMarker(start, {
		  radius: 10,
		  color: 'red',
		  fillColor: 'green',
		  fillOpacity: 1
      })
		  .addTo(map)
		  .bindPopup(`<div style="text-align:center"> Начало/Край<br>${start.toString()}</div>`)
		  .openPopup();
  }

  if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', createMap);
  } else {
      createMap();
  }
</script>
